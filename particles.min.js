// --------------------- = ) ------------------------- \\
// MIT license: http://opensource.org/licenses/MIT
// demo version: https://sugatakzs.github.io/
// Author : Nikolay - https://t.me/SugataKZS
// GitHub : https://github.com/SugataKZS
// Vk : https://vk.com/oreg2003ggk
// v : Beta 1.0
// --------------------- ( = ------------------------- \\
!function(){let i;class t{constructor(t,e){this.r=Math.floor(256*Math.random()),this.g=Math.floor(256*Math.random()),this.b=Math.floor(256*Math.random()),i.ciline.randomParticleColor?this.circleColor=`rgba(${this.r},${this.g},${this.b},`:this.circleColor=i.ciline.particlesColor,this.lineeOpac=i.ciline.minLineOpac,this.circleOpac=i.ciline.minCircleOpac,this.numberCiline=t,this.ctx=e,this.moveX=-1e3,this.moveY=-1e3,this.numberCiline>=0&&this.numberCiline<i.ciline.count/4?this.xy=[[0,i.maxWidth/2],[0,i.maxHeight/2]]:this.numberCiline>=i.ciline.count/4&&this.numberCiline<i.ciline.count/2?this.xy=[[i.maxWidth/2,i.maxWidth],[0,i.maxHeight/2]]:this.numberCiline>=i.ciline.count/2&&this.numberCiline<i.ciline.count/1.33?this.xy=[[0,i.maxWidth/2],[i.maxHeight/2,i.maxHeight]]:this.numberCiline>=i.ciline.count/1.33&&this.numberCiline<=i.ciline.count?this.xy=[[i.maxWidth/2,i.maxWidth],[i.maxHeight/2,i.maxHeight]]:this.xy,this.circleX=Math.floor(this.xy[0][0]+Math.random()*(this.xy[0][1]+1-this.xy[0][0])),this.circleY=Math.floor(this.xy[1][0]+Math.random()*(this.xy[1][1]+1-this.xy[1][0])),this.MaxVelocity=i.ciline.MaxVelocity,this.velocityX=Math.random()*(2*this.MaxVelocity)-this.MaxVelocity,this.velocityY=Math.random()*(2*this.MaxVelocity)-this.MaxVelocity}setPosition(){this.MaxVelocity!=i.ciline.MaxVelocity&&(this.MaxVelocity=i.ciline.MaxVelocity,this.velocityX=Math.random()*(2*this.MaxVelocity)-this.MaxVelocity,this.velocityY=Math.random()*(2*this.MaxVelocity)-this.MaxVelocity),this.circleX+this.velocityX>i.maxWidth&&this.velocityX>0||this.circleX+this.velocityX<0&&this.velocityX<0?this.velocityX*=-1:this.velocityX,this.circleY+this.velocityY>i.maxHeight&&this.velocityY>0||this.circleY+this.velocityY<0&&this.velocityY<0?this.velocityY*=-1:this.velocityX,this.circleX+=this.velocityX,this.circleY+=this.velocityY}draw(){let t,e;i.ciline.randomParticleColor?this.circleColor=`rgba(${this.r},${this.g},${this.b},`:this.circleColor=i.ciline.particlesColor,this.ctx.beginPath(),this.ctx.arc(this.circleX,this.circleY,i.ciline.radiusMove,0,2*Math.PI,!0),this.ctx.isPointInPath(this.moveX,this.moveY)?(this.lineeOpac<i.ciline.maxLineOpac?this.lineeOpac+=.01:this.lineeOpac,this.circleOpac<i.ciline.maxCircleOpac?this.circleOpac+=.01:this.circleOpac):(this.lineeOpac>i.ciline.minLineOpac?this.lineeOpac-=.01:this.lineeOpac,this.circleOpac>i.ciline.minCircleOpac?this.circleOpac-=.01:this.circleOpac);for(let c in i.ciline.cilines)this.ctx.isPointInPath(i.ciline.cilines[c].circleX,i.ciline.cilines[c].circleY)&&(t=i.ciline.cilines[c].circleX,e=i.ciline.cilines[c].circleY,this.ctx.beginPath(),this.ctx.moveTo(this.circleX,this.circleY),this.ctx.lineTo(t,e),this.ctx.lineWidth=i.ciline.widthline,this.ctx.strokeStyle=i.ciline.linesColor+this.lineeOpac,this.ctx.stroke());this.ctx.beginPath(),this.ctx.arc(this.circleX,this.circleY,i.ciline.radius,0,2*Math.PI,!0),this.ctx.fillStyle=this.circleColor+this.circleOpac,this.ctx.fill()}isPoint(i,t){this.moveX=i,this.moveY=t}}class e{constructor(){this.cvs,this.ctx,this.dpi,this.cilines=i.ciline.cilines}init(){document.body.style.background=i.background;let t=document.createElement("canvas");t.style.transform="translate(-50%, -50%)",t.style["margin-right"]="-50%",t.style.position="fixed",t.style.display="block",t.style.height="100%",t.style.width="100%",t.style.left="50%",t.style.top="50%",t.id="particles",this.cvs=document.body.appendChild(t),this.ctx=this.cvs.getContext("2d"),this.dpi=window.devicePixelRatio,i.maxWidth=this.cvs.width=+getComputedStyle(this.cvs).getPropertyValue("width").slice(0,-2)*this.dpi,i.maxHeight=this.cvs.height=+getComputedStyle(this.cvs).getPropertyValue("height").slice(0,-2)*this.dpi,addEventListener("resize",()=>{this.resizeCVS()}),addEventListener("mousemove",i=>{let t=this.cvs.getBoundingClientRect(),e=i.screenX-t.left,c=i.screenY-t.top;for(let i in this.cilines)this.cilines[i].isPoint(e,c)}),this.initCilines(),this.startAnimation()}clearCVS(){if(document.body.style.background=i.background,i.ciline.count>i.ciline.cilines.length)for(let e=0;e<=i.ciline.count-i.ciline.cilines.length;e++)this.cilines.push(new t(+e,this.ctx));else if(i.ciline.count<i.ciline.cilines.length)for(let t=0;t<=i.ciline.cilines.length-i.ciline.count;t++)this.cilines.splice(t,1);this.ctx.clearRect(0,0,this.cvs.width,this.cvs.height)}resizeCVS(){this.dpi=window.devicePixelRatio,i.maxWidth=this.cvs.width=Math.floor(+getComputedStyle(this.cvs).getPropertyValue("width").slice(0,-2)*this.dpi),i.maxHeight=this.cvs.height=Math.floor(+getComputedStyle(this.cvs).getPropertyValue("height").slice(0,-2)*this.dpi)}initCilines(){for(let e=0;e<=i.ciline.count;e++)this.cilines.push(new t(+e,this.ctx))}drawing(){for(let i in this.cilines)this.cilines[i].setPosition(),this.cilines[i].draw()}startAnimation(){this.clearCVS(),this.drawing(),window.requestAnimationFrame(()=>this.startAnimation())}}addEventListener("load",()=>{console.log("%cGitHub: https://github.com/SugataKZS/Particles-JavaScript-","color: rgb(250, 255, 145);"),console.log("%cLicense: http://opensource.org/licenses/MIT","color: red;"),"undefined"==typeof settingsParticles?(console.log("Particles: Конфигурационный файл не был найден, включены стандартные настройки"),i={background:"rgb(255,255,255)",maxHeight:null,maxWidth:null,ciline:{count:80,linesColor:"rgba(0,0,0,",particlesColor:"rgba(0,0,0,",randomParticleColor:!0,minCircleOpac:.2,maxCircleOpac:.5,minLineOpac:.03,maxLineOpac:.2,radius:20,radiusMove:150,widthline:2,MaxVelocity:1,cilines:[]}}):i=settingsParticles,(new e).init()})}();